$(document).ready(function(){console.log("ready"),$("#new-quote-button").on("click",function(e){console.log("button was clicked"),$(".hentry").empty(),$.ajax({beforeSend:e=>e.setRequestHeader("X-WP-Nonce",red_vars.nonce),method:"GET",url:red_vars.root_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(e){var o="";o+='<div class="entry-content"><p>'+e[0].excerpt.rendered+"</p></div>",o+='<header class="entry-meta"><h3 class="entry-title">'+e[0].title.rendered+"</h3>",o+='<span class="source"> <a href="'+e[0]._qod_quote_source_url+'">',o+=e[0]._qod_quote_source+"</a></span></header>",console.log(e),$(".hentry").append(o)}).fail(()=>{alert("Something went wrong. Please try again.")})}),$("#submit-quote").on("click",function(e){e.preventDefault(),$.ajax({method:"POST",url:red_vars.root_url+"wp/v2/posts",data:{title:$("#quote-author").val(),content:$("#quote-content").val(),_qod_quote_source:$("#quote-source").val(),_qod_quote_source_url:$("#quote-source-url").val(),status:"pending"},beforeSend:e=>e.setRequestHeader("X-WP-Nonce",red_vars.nonce)}).done(function(){console.log(red_vars.success),$("#quote-submission-form").hide(),$(".submit-success-message").html(red_vars.success)}).fail(function(){alert(red_vars.failure)})})});